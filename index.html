<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#000000">
    <title>QALQX | OS</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <script src="app.js" defer></script>
    <style>
        /* --- 1. THE RESET (Crucial Fix) --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            margin: 0; padding: 0; background: #000; color: #fff; font-family: sans-serif;
            overflow-x: hidden; /* Kill horizontal scroll */
            padding-bottom: 100px; /* Space for Dock */
        }

        /* --- 2. HEADER --- */
        .header-section {
            padding: 20px 20px 10px 20px;
            display: flex; justify-content: space-between; align-items: center;
        }
        .greet-box h1 { font-size: 1.8rem; margin: 0; background: linear-gradient(to right, #fff, #999); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .greet-box p { font-size: 0.8rem; color: #666; margin: 0; }

        /* --- 3. SEARCH (Fixed Width) --- */
        .search-container { 
            padding: 10px 20px; position: sticky; top: 0; z-index: 50; 
            background: rgba(0,0,0,0.8); backdrop-filter: blur(10px);
            width: 100%; /* Now works because of box-sizing: border-box */
        }
        .search-bar {
            background: #111; border: 1px solid #333; border-radius: 12px;
            display: flex; align-items: center; padding: 10px 15px;
        }
        .search-bar input { background: transparent; border: none; color: #fff; width: 100%; outline: none; font-size: 1rem; margin-left: 10px; }

        /* --- 4. CHIPS --- */
        .chips-wrapper {
            display: flex; gap: 8px; overflow-x: auto; padding: 5px 20px 15px 20px;
            scrollbar-width: none;
        }
        .chips-wrapper::-webkit-scrollbar { display: none; }
        .chip {
            background: #111; color: #888; padding: 6px 14px; border-radius: 20px;
            font-size: 0.75rem; white-space: nowrap; border: 1px solid #222; transition: 0.2s;
        }
        .chip.active { background: var(--primary); color: #000; border-color: var(--primary); font-weight: bold; }

        /* --- 5. THE GRID (Optimized for Mobile) --- */
        .app-grid {
            display: grid; 
            /* Fix: Smaller min-width (85px) allows 4 items per row on mobile */
            grid-template-columns: repeat(auto-fill, minmax(85px, 1fr)); 
            gap: 10px; padding: 0 20px;
        }
        
        .app-card {
            background: #0a0a0a; border: 1px solid #222;
            border-radius: 14px; aspect-ratio: 1; /* Square icons */
            display: flex; flex-direction: column;
            align-items: center; justify-content: center;
            text-decoration: none; position: relative;
        }
        .app-card:active { background: #1a1a1a; transform: scale(0.95); }
        .icon-box { font-size: 2rem; margin-bottom: 5px; } /* Smaller icons */
        .app-name { font-size: 0.7rem; color: #ccc; text-align: center; line-height: 1.1; }

        /* --- 6. DOCK (Floats Properly) --- */
        .dock {
            position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
            width: 90%; max-width: 350px; height: 65px;
            background: rgba(20, 20, 20, 0.9); backdrop-filter: blur(15px);
            border: 1px solid #333; border-radius: 35px;
            display: flex; justify-content: space-around; align-items: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.6); z-index: 100;
        }
        .dock-item {
            display: flex; flex-direction: column; align-items: center;
            text-decoration: none; color: #666; font-size: 0.6rem; width: 50px;
        }
        .dock-icon { font-size: 1.4rem; margin-bottom: 2px; }
        .dock-item.active { color: #fff; }
        .dock-item.active .dock-icon { transform: translateY(-3px); color: var(--primary); transition: 0.2s; }
    </style>
</head>
<body>

    <div class="dock">
        <a href="#" class="dock-item active">
            <div class="dock-icon">ğŸ </div>
            <div>Home</div>
        </a>
        <a href="tools/math/calc.html" class="dock-item">
            <div class="dock-icon">ğŸ§®</div>
            <div>Calc</div>
        </a>
        <a href="tools/productivity/notes.html" class="dock-item">
            <div class="dock-icon">ğŸ“</div>
            <div>Notes</div>
        </a>
        <a href="tools/utility/speed.html" class="dock-item">
            <div class="dock-icon">âš¡</div>
            <div>Speed</div>
        </a>
    </div>

    <div class="header-section">
        <div class="greet-box">
            <h1 id="greet">System Ready</h1>
            <p id="dateLine">Loading...</p>
        </div>
        <a href="settings.html" style="font-size:1.4rem; text-decoration:none;">âš™ï¸</a>
    </div>

    <div class="search-container">
        <div class="search-bar">
            <span>ğŸ”</span>
            <input type="text" id="search" placeholder="Search..." onkeyup="filterApps()">
        </div>
    </div>

    <div class="chips-wrapper">
        <div class="chip active" onclick="filterCat('all', this)">All</div>
        <div class="chip" onclick="filterCat('prod', this)">Prod</div>
        <div class="chip" onclick="filterCat('dev', this)">Dev</div>
        <div class="chip" onclick="filterCat('sci', this)">Sci</div>
        <div class="chip" onclick="filterCat('life', this)">Life</div>
        <div class="chip" onclick="filterCat('fun', this)">Fun</div>
    </div>

    <div class="app-grid" id="mainGrid">
        <a href="tools/productivity/notes.html" class="app-card" data-cat="prod"><div class="icon-box">ğŸ“</div><div class="app-name">Notes</div></a>
        <a href="tools/productivity/todo.html" class="app-card" data-cat="prod"><div class="icon-box">âœ…</div><div class="app-name">Tasks</div></a>
        <a href="tools/productivity/focus.html" class="app-card" data-cat="prod"><div class="icon-box">ğŸ¯</div><div class="app-name">Focus</div></a>
        <a href="tools/time/stopwatch.html" class="app-card" data-cat="prod"><div class="icon-box">â±ï¸</div><div class="app-name">Timer</div></a>
        
        <a href="tools/utility/speed.html" class="app-card" data-cat="prod"><div class="icon-box">âš¡</div><div class="app-name">Speed</div></a>
        <a href="tools/utility/system.html" class="app-card" data-cat="prod"><div class="icon-box">ğŸ“±</div><div class="app-name">System</div></a>
        <a href="tools/utility/converter.html" class="app-card" data-cat="prod"><div class="icon-box">âš–ï¸</div><div class="app-name">Units</div></a>
        <a href="tools/utility/compressor.html" class="app-card" data-cat="prod"><div class="icon-box">ğŸ“‰</div><div class="app-name">Shrink</div></a>

        <a href="tools/dev/base64.html" class="app-card" data-cat="dev"><div class="icon-box">ğŸ§¬</div><div class="app-name">Base64</div></a>
        <a href="tools/dev/color.html" class="app-card" data-cat="dev"><div class="icon-box">ğŸ¨</div><div class="app-name">Colors</div></a>
        <a href="tools/dev/ip.html" class="app-card" data-cat="dev"><div class="icon-box">ğŸŒ</div><div class="app-name">Trace</div></a>
        <a href="tools/dev/qr.html" class="app-card" data-cat="dev"><div class="icon-box">ğŸ”³</div><div class="app-name">QR</div></a>
        <a href="tools/dev/json.html" class="app-card" data-cat="dev"><div class="icon-box">âœ¨</div><div class="app-name">JSON</div></a>
        <a href="tools/dev/markdown.html" class="app-card" data-cat="dev"><div class="icon-box">ğŸ“</div><div class="app-name">MD</div></a>
        <a href="tools/security/pass.html" class="app-card" data-cat="dev"><div class="icon-box">ğŸ”</div><div class="app-name">Pass</div></a>
        <a href="tools/security/hash.html" class="app-card" data-cat="dev"><div class="icon-box">ğŸ›¡ï¸</div><div class="app-name">Hash</div></a>

        <a href="tools/math/calc.html" class="app-card" data-cat="sci"><div class="icon-box">ğŸ§®</div><div class="app-name">Calc</div></a>
        <a href="tools/math/quadratic.html" class="app-card" data-cat="sci"><div class="icon-box">ğŸ“ˆ</div><div class="app-name">Quad</div></a>
        <a href="tools/science/periodic.html" class="app-card" data-cat="sci"><div class="icon-box">ğŸ§ª</div><div class="app-name">Table</div></a>
        <a href="tools/physics/ohms.html" class="app-card" data-cat="sci"><div class="icon-box">âš¡</div><div class="app-name">Ohms</div></a>
        <a href="tools/physics/kinetic.html" class="app-card" data-cat="sci"><div class="icon-box">ğŸŒ </div><div class="app-name">K.E.</div></a>
        <a href="tools/physics/force.html" class="app-card" data-cat="sci"><div class="icon-box">ğŸš€</div><div class="app-name">Force</div></a>
        <a href="tools/physics/velocity.html" class="app-card" data-cat="sci"><div class="icon-box">ğŸï¸</div><div class="app-name">Vel</div></a>
        <a href="tools/student/geometry.html" class="app-card" data-cat="sci"><div class="icon-box">ğŸ“</div><div class="app-name">Geo</div></a>

        <a href="tools/age.html" class="app-card" data-cat="life"><div class="icon-box">ğŸ‚</div><div class="app-name">Age</div></a>
        <a href="tools/finance/emi.html" class="app-card" data-cat="life"><div class="icon-box">ğŸ¦</div><div class="app-name">EMI</div></a>
        <a href="tools/finance/discount.html" class="app-card" data-cat="life"><div class="icon-box">ğŸ·ï¸</div><div class="app-name">Disc</div></a>
        <a href="tools/finance/tip.html" class="app-card" data-cat="life"><div class="icon-box">ğŸ½ï¸</div><div class="app-name">Tip</div></a>
        <a href="tools/health/bmi.html" class="app-card" data-cat="life"><div class="icon-box">ğŸ’ª</div><div class="app-name">BMI</div></a>
        <a href="tools/health/breath.html" class="app-card" data-cat="life"><div class="icon-box">ğŸ§˜</div><div class="app-name">Breath</div></a>

        <a href="tools/dev/meme.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸ¸</div><div class="app-name">Meme</div></a>
        <a href="tools/utility/sketch.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸ¨</div><div class="app-name">Sketch</div></a>
        <a href="tools/audio/recorder.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸ™ï¸</div><div class="app-name">Rec</div></a>
        <a href="tools/game/spin.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸ¡</div><div class="app-name">Spin</div></a>
        <a href="tools/audio/tone.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸ”Š</div><div class="app-name">Tone</div></a>
        <a href="tools/game/coin.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸª™</div><div class="app-name">Coin</div></a>
        <a href="tools/game/dice.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸ²</div><div class="app-name">Dice</div></a>
        <a href="tools/audio/tts.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸ¤–</div><div class="app-name">Voice</div></a>
        <a href="tools/audio/metro.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸ¥</div><div class="app-name">Metro</div></a>
        <a href="tools/game/8ball.html" class="app-card" data-cat="fun"><div class="icon-box">ğŸ±</div><div class="app-name">Ball</div></a>
    </div>

    <script>
        // 1. Time
        function updateTime() {
            const hr = new Date().getHours();
            const msg = hr < 12 ? "Good Morning" : hr < 18 ? "Good Afternoon" : "Good Evening";
            document.getElementById('greet').innerText = msg + ", Founder";
            document.getElementById('dateLine').innerText = new Date().toLocaleDateString('en-US', { weekday: 'long', month: 'short', day: 'numeric' });
        }
        updateTime();

        // 2. Filter Logic
        function filterCat(cat, btn) {
            document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            btn.classList.add('active');
            const cards = document.querySelectorAll('.app-card');
            cards.forEach(card => {
                if(cat === 'all' || card.getAttribute('data-cat') === cat) card.style.display = 'flex';
                else card.style.display = 'none';
            });
        }

        function filterApps() {
            const val = document.getElementById('search').value.toLowerCase();
            const cards = document.querySelectorAll('.app-card');
            if(val.length > 0) document.querySelectorAll('.chip').forEach(c => c.classList.remove('active'));
            cards.forEach(card => {
                if(card.innerText.toLowerCase().includes(val)) card.style.display = 'flex';
                else card.style.display = 'none';
            });
        }
        
        // Service Worker
        if ('serviceWorker' in navigator) navigator.serviceWorker.register('/Qalyx/sw.js', { scope: '/Qalyx/' });
    </script>
</body>
</html>
